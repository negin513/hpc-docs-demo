<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="NCAR HPC Docs website (Proof of Concept)"><meta name=author content=CISL><link href=https://negin513.github.io/hpc-docs-demo/esds/faq/ rel=canonical><link rel=icon href="https://t0.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=https://arc.ucar.edu/knowledge_base/83853599"><meta name=generator content="mkdocs-1.5.3, mkdocs-material-8.5.10"><title>Frequently Asked Questions - NCAR HPC Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.975780f9.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.2505c338.min.css><script async src=https://siteimproveanalytics.com/js/siteanalyze_6025767.js></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRegular:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Google Sans";--md-code-font:"Regular"}</style><link rel=stylesheet href=../../css/timeago.css><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=cisl_default data-md-color-primary=green data-md-color-accent=white> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#frequently-asked-questions class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="NCAR HPC Documentation" class="md-header__button md-logo" aria-label="NCAR HPC Documentation" data-md-component=logo> <img src=../../assets/images/CISL-contemp-logo-white-square.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> NCAR HPC Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Frequently Asked Questions </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=cisl_default data-md-color-primary=green data-md-color-accent=white aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=idigo data-md-color-accent=white aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/negin513/hpc-docs-demo title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="NCAR HPC Documentation" class="md-nav__button md-logo" aria-label="NCAR HPC Documentation" data-md-component=logo> <img src=../../assets/images/CISL-contemp-logo-white-square.png alt=logo> </a> NCAR HPC Documentation </label> <div class=md-nav__source> <a href=https://github.com/negin513/hpc-docs-demo title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Getting Started <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Getting Started" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/ class=md-nav__link> Getting started with NCAR HPC Resources </a> </li> <li class=md-nav__item> <a href=../../general/environment-modules/ class=md-nav__link> Environment Modules </a> </li> <li class=md-nav__item> <a href=../../general/managing-jobs/ class=md-nav__link> Starting and Managing Jobs with PBS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../casper/ >Casper</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Casper data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Casper </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../casper/Compiling%2BGPU%2Bcode%2Bon%2BCasper%2Bnodes/ class=md-nav__link> Compiling GPU Code on Casper Nodes </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../../cheyenne/ >Cheyenne</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Cheyenne data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Cheyenne </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cheyenne/Quick%2Bstart%2Bon%2BCheyenne/ class=md-nav__link> Quick Start on Cheyenne </a> </li> <li class=md-nav__item> <a href=../../cheyenne/Cheyenne%2Buse%2Bpolicies/ class=md-nav__link> Cheyenne Use Policies </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4 type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4> Starting Cheyenne Jobs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Starting Cheyenne Jobs" data-md-level=2> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Starting Cheyenne Jobs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cheyenne/starting-cheyenne-jobs/Job-submission%2Bqueues%2Band%2Bcharges/ class=md-nav__link> Job-submission Queues and Charges </a> </li> <li class=md-nav__item> <a href=../../cheyenne/starting-cheyenne-jobs/Managing%2Band%2Bmonitoring%2BPBS%2Bjobs/ class=md-nav__link> Managing and monitoring PBS jobs </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_4_3 type=checkbox id=__nav_4_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../cheyenne/starting-cheyenne-jobs/cheyenne-job-script-examples/ >Cheyenne Job Script Examples</a> </div> <nav class=md-nav aria-label="Cheyenne Job Script Examples" data-md-level=3> <label class=md-nav__title for=__nav_4_4_3> <span class="md-nav__icon md-icon"></span> Cheyenne Job Script Examples </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <div class="md-nav__link md-nav__link--index "> <a href=../../derecho/ >Derecho</a> <label for=__nav_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Derecho data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Derecho </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../derecho/Batch%2Bjob%2Bscript%2Bexamples-Derecho/ class=md-nav__link> Batch job script examples - Derecho </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <div class="md-nav__link md-nav__link--index "> <a href=../../allocations/ >Allocations</a> <label for=__nav_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label=Allocations data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Allocations </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6_2 type=checkbox id=__nav_6_2> <div class="md-nav__link md-nav__link--index "> <a href=../../allocations/ncar_allocations/ >NCAR Allocations</a> </div> <nav class=md-nav aria-label="NCAR Allocations" data-md-level=2> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> NCAR Allocations </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../../allocations/university-allocations.md class=md-nav__link> University Allocations </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> User Support <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User Support" data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> User Support </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-support/ class=md-nav__link> User Support </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <div class="md-nav__link md-nav__link--index "> <a href=../../nhug/ >NCAR User Group</a> <label for=__nav_8> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav aria-label="NCAR User Group" data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> NCAR User Group </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../nhug/upcoming-events/ class=md-nav__link> NHUG Upcoming Events </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_9 type=checkbox id=__nav_9 checked> <label class=md-nav__link for=__nav_9> FAQ <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=FAQ data-md-level=1> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> FAQ </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Frequently Asked Questions <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Frequently Asked Questions </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#i-need-help-with-this class=md-nav__link> I need help with this! </a> <nav class=md-nav aria-label="I need help with this!"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#where-do-i-go-for-help class=md-nav__link> Where do I go for help? </a> </li> <li class=md-nav__item> <a href=#what-do-i-do-if-my-question-is-not-answered-on-this-page class=md-nav__link> What do I do if my question is not answered on this page? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#someone-must-have-written-the-function-i-want-where-do-i-look class=md-nav__link> Someone must have written the function I want. Where do I look? </a> </li> <li class=md-nav__item> <a href=#how-do-i-use-conda-environments class=md-nav__link> How do I use conda environments? </a> <nav class=md-nav aria-label="How do I use conda environments?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general-advice class=md-nav__link> General Advice </a> </li> <li class=md-nav__item> <a href=#using-conda-on-ncar-hpc-resources class=md-nav__link> Using conda on NCAR HPC resources </a> <nav class=md-nav aria-label="Using conda on NCAR HPC resources"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#npl-on-the-command-line class=md-nav__link> NPL on the command line </a> </li> <li class=md-nav__item> <a href=#npl-on-the-ncar-jupyterhub class=md-nav__link> NPL on the NCAR JupyterHub </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#creating-and-accessing-a-new-conda-environment-on-the-ncar-jupyterhub class=md-nav__link> Creating and accessing a new conda environment on the NCAR JupyterHub </a> </li> <li class=md-nav__item> <a href=#conda-is-taking-too-long-to-solve-environment-use-mamba class=md-nav__link> Conda is taking too long to solve environment: use mamba </a> </li> <li class=md-nav__item> <a href=#how-can-i-export-my-environments class=md-nav__link> How can I export my environments? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#xarray-and-dask class=md-nav__link> Xarray and Dask </a> <nav class=md-nav aria-label="Xarray and Dask"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general-tips class=md-nav__link> General tips </a> </li> <li class=md-nav__item> <a href=#how-do-i-optimize-reading-multiple-files-using-xarray-and-dask class=md-nav__link> How do I optimize reading multiple files using Xarray and Dask? </a> </li> <li class=md-nav__item> <a href=#where-can-i-find-xarray-tutorials class=md-nav__link> Where can I find Xarray tutorials? </a> </li> <li class=md-nav__item> <a href=#how-do-i-debug-my-code-when-using-dask class=md-nav__link> How do I debug my code when using dask? </a> </li> <li class=md-nav__item> <a href=#killedworker-x-what-do-i-do class=md-nav__link> KilledWorker X{. What do I do? </a> </li> <li class=md-nav__item> <a href=#help-my-analysis-is-slow class=md-nav__link> Help, my analysis is slow! </a> </li> <li class=md-nav__item> <a href=#i-have-to-do-lots-of-rechunking-but-the-rechunk-step-uses-too-much-memory-and-kills-my-workers class=md-nav__link> I have to do lots of rechunking, but the rechunk step uses too much memory and kills my workers. </a> </li> <li class=md-nav__item> <a href=#writing-to-files-in-parallel class=md-nav__link> Writing to files in parallel </a> </li> <li class=md-nav__item> <a href=#my-dask-workers-are-taking-a-long-time-to-start-how-can-i-monitor-them class=md-nav__link> My Dask workers are taking a long time to start. How can I monitor them? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#github class=md-nav__link> Github </a> <nav class=md-nav aria-label=Github> <ul class=md-nav__list> <li class=md-nav__item> <a href=#setting-up-github-authentication class=md-nav__link> Setting up Github Authentication </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cesm-data class=md-nav__link> CESM Data </a> <nav class=md-nav aria-label="CESM Data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dealing-with-cesm-monthly-output-is-there-something-wrong-with-time class=md-nav__link> Dealing with CESM monthly output - is there something wrong with time </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../contributing/ class=md-nav__link> About </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#i-need-help-with-this class=md-nav__link> I need help with this! </a> <nav class=md-nav aria-label="I need help with this!"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#where-do-i-go-for-help class=md-nav__link> Where do I go for help? </a> </li> <li class=md-nav__item> <a href=#what-do-i-do-if-my-question-is-not-answered-on-this-page class=md-nav__link> What do I do if my question is not answered on this page? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#someone-must-have-written-the-function-i-want-where-do-i-look class=md-nav__link> Someone must have written the function I want. Where do I look? </a> </li> <li class=md-nav__item> <a href=#how-do-i-use-conda-environments class=md-nav__link> How do I use conda environments? </a> <nav class=md-nav aria-label="How do I use conda environments?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general-advice class=md-nav__link> General Advice </a> </li> <li class=md-nav__item> <a href=#using-conda-on-ncar-hpc-resources class=md-nav__link> Using conda on NCAR HPC resources </a> <nav class=md-nav aria-label="Using conda on NCAR HPC resources"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#npl-on-the-command-line class=md-nav__link> NPL on the command line </a> </li> <li class=md-nav__item> <a href=#npl-on-the-ncar-jupyterhub class=md-nav__link> NPL on the NCAR JupyterHub </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#creating-and-accessing-a-new-conda-environment-on-the-ncar-jupyterhub class=md-nav__link> Creating and accessing a new conda environment on the NCAR JupyterHub </a> </li> <li class=md-nav__item> <a href=#conda-is-taking-too-long-to-solve-environment-use-mamba class=md-nav__link> Conda is taking too long to solve environment: use mamba </a> </li> <li class=md-nav__item> <a href=#how-can-i-export-my-environments class=md-nav__link> How can I export my environments? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#xarray-and-dask class=md-nav__link> Xarray and Dask </a> <nav class=md-nav aria-label="Xarray and Dask"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general-tips class=md-nav__link> General tips </a> </li> <li class=md-nav__item> <a href=#how-do-i-optimize-reading-multiple-files-using-xarray-and-dask class=md-nav__link> How do I optimize reading multiple files using Xarray and Dask? </a> </li> <li class=md-nav__item> <a href=#where-can-i-find-xarray-tutorials class=md-nav__link> Where can I find Xarray tutorials? </a> </li> <li class=md-nav__item> <a href=#how-do-i-debug-my-code-when-using-dask class=md-nav__link> How do I debug my code when using dask? </a> </li> <li class=md-nav__item> <a href=#killedworker-x-what-do-i-do class=md-nav__link> KilledWorker X{. What do I do? </a> </li> <li class=md-nav__item> <a href=#help-my-analysis-is-slow class=md-nav__link> Help, my analysis is slow! </a> </li> <li class=md-nav__item> <a href=#i-have-to-do-lots-of-rechunking-but-the-rechunk-step-uses-too-much-memory-and-kills-my-workers class=md-nav__link> I have to do lots of rechunking, but the rechunk step uses too much memory and kills my workers. </a> </li> <li class=md-nav__item> <a href=#writing-to-files-in-parallel class=md-nav__link> Writing to files in parallel </a> </li> <li class=md-nav__item> <a href=#my-dask-workers-are-taking-a-long-time-to-start-how-can-i-monitor-them class=md-nav__link> My Dask workers are taking a long time to start. How can I monitor them? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#github class=md-nav__link> Github </a> <nav class=md-nav aria-label=Github> <ul class=md-nav__list> <li class=md-nav__item> <a href=#setting-up-github-authentication class=md-nav__link> Setting up Github Authentication </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cesm-data class=md-nav__link> CESM Data </a> <nav class=md-nav aria-label="CESM Data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dealing-with-cesm-monthly-output-is-there-something-wrong-with-time class=md-nav__link> Dealing with CESM monthly output - is there something wrong with time </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/negin513/hpc-docs-demo/edit/main/docs/esds/faq.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=frequently-asked-questions>Frequently Asked Questions<a class=headerlink href=#frequently-asked-questions title="Permanent link">&para;</a></h1> <p>A copy of ESDS FAQ page: <a href=https://ncar.github.io/esds/faq/ >https://ncar.github.io/esds/faq/</a></p> <p>This contains relevant questions and answers from common workflow issues and questions posted on Zulip.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>This page is meant to be a list of FAQ regarding climate datasets, movivated by a variety of employees across UCAR/NCAR. </p> </div> <h2 id=i-need-help-with-this>I need help with this!<a class=headerlink href=#i-need-help-with-this title="Permanent link">&para;</a></h2> <h3 id=where-do-i-go-for-help>Where do I go for help?<a class=headerlink href=#where-do-i-go-for-help title="Permanent link">&para;</a></h3> <p>Try one of the following resources.</p> <ol> <li>Xarray's <a href=https://xarray.pydata.org/en/stable/howdoi.html>How Do I do X?</a> page</li> <li><a href=https://github.com/pydata/xarray/discussions>Xarray Github Discussions</a></li> <li><a href=https://discourse.pangeo.org>Pangeo Discourse Forum</a></li> <li>NCAR Zulip under #python-questions, #python-dev, or #dask.</li> </ol> <p>Avoid personal emails and prefer a public forum.</p> <h3 id=what-do-i-do-if-my-question-is-not-answered-on-this-page>What do I do if my question is not answered on this page?<a class=headerlink href=#what-do-i-do-if-my-question-is-not-answered-on-this-page title="Permanent link">&para;</a></h3> <p>If your question is related to conda environments and you're affiliated with UCAR/NCAR, you can open a help ticket on the <a href=https://ithelp.ucar.edu/plugins/servlet/desk/site/rc>NCAR Research Computing Helpdesk site</a>. If your issue is related to data science packages and workflows, you can open an issue <a href=https://github.com/NCAR/esds/issues>on our GitHub here</a> or book an <a href=https://ncar.github.io/esds/office-hours/ >office hour appointment</a> with an ESDS core member!</p> <h2 id=someone-must-have-written-the-function-i-want-where-do-i-look>Someone must have written the function I want. Where do I look?<a class=headerlink href=#someone-must-have-written-the-function-i-want-where-do-i-look title="Permanent link">&para;</a></h2> <p>See the xarray <a href=https://xarray.pydata.org/en/latest/ecosystem.html>ecosystem</a> page. Also see the <a href=https://github.com/xarray-contrib/ >xarray-contrib</a> and <a href=https://github.com/pangeo-data>pangeo-data</a> organizations. Some NCAR relevant projects include:</p> <ol> <li><a href=https://geocat-comp.readthedocs.io/en/latest/ >GeoCAT-comp</a></li> <li><a href=https://geocat-viz.readthedocs.io/en/latest/ >GeoCAT-viz</a></li> <li><a href=https://cf-xarray.readthedocs.io/en/latest/ >cf_xarray</a></li> <li><a href=https://climpred.readthedocs.io/en/stable/ >climpred</a></li> <li><a href=https://ajdawson.github.io/eofs/latest/ >eofs</a></li> <li><a href=https://unidata.github.io/MetPy/latest/index.html>MetPy</a></li> <li><a href=https://rechunker.readthedocs.io/en/latest/ >rechunker</a></li> <li><a href=https://xclim.readthedocs.io/en/stable/ >xclim</a></li> <li><a href=https://xesmf.readthedocs.io/en/latest/ >xesmf</a></li> <li><a href=https://xgcm.readthedocs.io/en/latest/ >xgcm</a></li> <li><a href=https://pop-tools.readthedocs.io/en/latest/ >pop-tools</a></li> <li><a href=https://xskillscore.readthedocs.io/en/stable/index.html>xskillscore</a></li> </ol> <h2 id=how-do-i-use-conda-environments>How do I use conda environments?<a class=headerlink href=#how-do-i-use-conda-environments title="Permanent link">&para;</a></h2> <h3 id=general-advice>General Advice<a class=headerlink href=#general-advice title="Permanent link">&para;</a></h3> <p>Dealing with Python environments can be tricky... a good place to start is to checkout <a href=https://whiteboxml.com/blog/the-definitive-guide-to-python-virtual-environments-with-conda>this guide on dealing with Python environments</a>. If you just need a refresher on the various conda commands, this <a href=https://docs.conda.io/projects/conda/en/latest/_downloads/843d9e0198f2a193a3484886fa28163c/conda-cheatsheet.pdf>conda cheet sheet</a> is a wonderful quick reference.</p> <h3 id=using-conda-on-ncar-hpc-resources>Using conda on NCAR HPC resources<a class=headerlink href=#using-conda-on-ncar-hpc-resources title="Permanent link">&para;</a></h3> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Since 12 December 2022, it is no longer recommended to install your own version of miniconda on the HPC system. To export your existing environments to the recommended installation of miniconda, refer to the "How can I export my environments?" section.</p> </div> <p>The NCAR High Performance Computing (HPC) system has a conda installation for you to use. The most recent and detailed instructions can be found on this <a href=https://arc.ucar.edu/knowledge_base/83853599>Using Conda and Python</a> page.</p> <p>If you don't want the trouble of making your own conda environment, there are managed environments available. The NCAR Package Library (NPL) is an environment containing many common scientific Python pacakges such as Numpy, Xarray, and GeoCAT. You can access the NPL environment through the command line and the NCAR JupyterHub.</p> <h4 id=npl-on-the-command-line>NPL on the command line<a class=headerlink href=#npl-on-the-command-line title="Permanent link">&para;</a></h4> <ol> <li>Open up a terminal in Casper or Cheyenne</li> <li>Load the NCAR conda module:</li> </ol> <div class=highlight><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>$<span class=w> </span>module<span class=w> </span>load<span class=w> </span>conda/latest
</span></code></pre></div> <ol> <li>List the available NCAR managed environments:</li> </ol> <div class=highlight><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>$<span class=w> </span>conda<span class=w> </span>env<span class=w> </span>list
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>   </span>base<span class=w>                  </span>*<span class=w>  </span>/glade/u/apps/opt/conda
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>   </span>npl<span class=w>                      </span>/glade/u/apps/opt/conda/envs/npl
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>   </span>npl-2022b<span class=w>                </span>/glade/u/apps/opt/conda/envs/npl-2022b
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>   </span>npl-2206<span class=w>                 </span>/glade/u/apps/opt/conda/envs/npl-2206
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>   </span>npl-2207<span class=w>                 </span>/glade/u/apps/opt/conda/envs/npl-2207
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>   </span>pygpu-dask<span class=w>               </span>/glade/u/apps/opt/conda/envs/pygpu-dask
</span></code></pre></div> <ol> <li>Activate the environment you want to use. Here we are using the <code>npl</code> environment as an example. <code>npl</code> can be replaced with any available environment name:</li> </ol> <div class=highlight><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>$<span class=w> </span>conda<span class=w> </span>activate<span class=w> </span>npl
</span></code></pre></div> <ol> <li>Now when you run a script, the modules within the <code>npl</code> environment will be available to your program.</li> </ol> <h4 id=npl-on-the-ncar-jupyterhub>NPL on the NCAR JupyterHub<a class=headerlink href=#npl-on-the-ncar-jupyterhub title="Permanent link">&para;</a></h4> <ol> <li>Log in to the Production <a href=https://jupyterhub.hpc.ucar.edu/ >NCAR JupyterHub</a></li> <li>Start a <a href=https://arc.ucar.edu/knowledge_base/70549913>server</a></li> <li>With your Jupyter Notebook open, click on the kernel name in the upper right. <img alt="The NCAR JupyterHub with a blank JupyterNotebook open. A red arrow is pointing to the upper right where the current kernel is listed." src=images/JupyterHub.png></li> <li>A dialog will appear with all the verious kernels available to you. These kernels will (generally) have the same name as the conda environment that it uses. This may not be the case if you are managing your own environments and kernels. <img alt='After clicking on the current kernel name, a dialog appears saying "Select Kernel" with a drop down menu' src=images/SelectKernel.png></li> <li>Select the "npl (conda)" kernel from the list if you want to use the NCAR-managed NPL environment. <img alt='The "Select Kernel" dialog with the NPL (conda) kernel selected' src=images/NPLKernel.png></li> </ol> <h3 id=creating-and-accessing-a-new-conda-environment-on-the-ncar-jupyterhub>Creating and accessing a new conda environment on the NCAR JupyterHub<a class=headerlink href=#creating-and-accessing-a-new-conda-environment-on-the-ncar-jupyterhub title="Permanent link">&para;</a></h3> <p>You may want to move past using NPL, and create a new conda environment! For detailed instructions, check out the <a href=https://arc.ucar.edu/knowledge_base/83853599>Using Conda and Python</a> page on the NCAR Advanced Research Computing site. Heres a summary of the basic steps:</p> <ol> <li>Create the environment</li> </ol> <p>If you are creating an environment from scratch, use the following:</p> <div class=highlight><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>conda<span class=w> </span>create<span class=w> </span>--name<span class=w> </span>my_environment
</span></code></pre></div> <p>where <code>my_environment</code> is the name of your environment</p> <p>Ff you have an environment file (ex. <code>environment.yml</code>), use the following:</p> <div class=highlight><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>conda<span class=w> </span>env<span class=w> </span>create<span class=w> </span>-f<span class=w> </span>environment.yml
</span></code></pre></div> <ol> <li>Activate your environment and install the <code>ipykernel</code> package</li> </ol> <div class=highlight><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>conda<span class=w> </span>activate<span class=w> </span>my_environment.yml
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>conda<span class=w> </span>install<span class=w> </span>ipykernel
</span></code></pre></div> <div class=highlight><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>The [`ipykernel`](https://github.com/ipython/ipykernel) package is required for your environment to be available from the NCAR [JupyterHub](https://jupyterhub.hpc.ucar.edu/)
</span></code></pre></div> <ol> <li>Accessing your conda environment</li> </ol> <p>Your environment should now automatically show up as an available kernel in any Jupyter server on the NCAR HPC systems. If you want to give your kernel a name that is different from the environment name, you can use the following command:</p> <div class=highlight><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>python<span class=w> </span>-m<span class=w> </span>ipykernel<span class=w> </span>install<span class=w> </span>--user<span class=w> </span>--name<span class=o>=</span>my-kernel
</span></code></pre></div> <p>Where <code>my-kernel</code> is the kernel name.</p> <h3 id=conda-is-taking-too-long-to-solve-environment-use-mamba>Conda is taking too long to solve environment: use mamba<a class=headerlink href=#conda-is-taking-too-long-to-solve-environment-use-mamba title="Permanent link">&para;</a></h3> <p>This is a very common issue when installing a new package or trying to update a package in an existing conda environment. This issue is usually manifested in a conda message along these lines:</p> <div class=highlight><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>environment<span class=w> </span>Solving<span class=w> </span>environment:<span class=w> </span>failed<span class=w> </span>with<span class=w> </span>initial<span class=w> </span>frozen<span class=w> </span>solve.<span class=w> </span>Retrying<span class=w> </span>with<span class=w> </span>flexible<span class=w> </span>solve.
</span></code></pre></div> <p>One solution to this issue is to use <a href=https://mamba.readthedocs.io/en/latest/user_guide/concepts.html><code>mamba</code></a> which is a drop-in replacement for conda. Mamba aims to greately speed up and improve conda functionality such as solving environment, installing packages, etc...</p> <ul> <li>Installing Mamba</li> </ul> <div class=highlight><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>conda<span class=w> </span>install<span class=w> </span>-n<span class=w> </span>base<span class=w> </span>-c<span class=w> </span>conda-forge<span class=w> </span>mamba
</span></code></pre></div> <ul> <li>Set <code>conda-forge</code> and <code>nodefaults</code> channels</li> </ul> <div class=highlight><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>conda<span class=w> </span>config<span class=w> </span>--add<span class=w> </span>channels<span class=w> </span>nodefaults
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>conda<span class=w> </span>config<span class=w> </span>--add<span class=w> </span>channels<span class=w> </span>conda-forge
</span></code></pre></div> <ul> <li>To install a package with mamba, you just run</li> </ul> <div class=highlight><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>mamba<span class=w> </span>install<span class=w> </span>package_name
</span></code></pre></div> <ul> <li>To create/update an environment from an environment file, run:</li> </ul> <div class=highlight><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>mamba<span class=w> </span>env<span class=w> </span>update<span class=w> </span>-f<span class=w> </span>environment.yml
</span></code></pre></div> <div class=highlight><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>We do not recommend using `mamba` to activate and deactivate environments as this can cause packages to misbehave/not load correctly.
</span></code></pre></div> <p>See <a href=https://mamba.readthedocs.io/en/latest/index.html>mamba documentation</a> for more.</p> <h3 id=how-can-i-export-my-environments>How can I export my environments?<a class=headerlink href=#how-can-i-export-my-environments title="Permanent link">&para;</a></h3> <p>If you made an environment on one machine or using a different conda installation, you can export that environment and use it elsewhere. These are the basic steps:</p> <ol> <li>Export your environment</li> </ol> <p>With the environment you want to export activated, run the following command:</p> <div class=highlight><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>conda<span class=w> </span>env<span class=w> </span><span class=nb>export</span><span class=w> </span>--from-history<span class=w> </span>&gt;<span class=w> </span>environment.yml
</span></code></pre></div> <p>where <code>environment</code> can be replaced with the file name of your choice. The <code>--from-history</code> flag allows you to recreate your environment on any system. It is the cross-platform compatible way of exporting an environment.</p> <ol> <li> <p>Move the <code>environment.yml</code> to the system you want to use it on / activate the appropriate conda installtion you wish to use.</p> </li> <li> <p>Use the <code>.yml</code> file to create your environment <div class=highlight><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>conda<span class=w> </span>env<span class=w> </span>create<span class=w> </span>-f<span class=w> </span>environment.yml
</span></code></pre></div></p> </li> </ol> <h2 id=xarray-and-dask>Xarray and Dask<a class=headerlink href=#xarray-and-dask title="Permanent link">&para;</a></h2> <h3 id=general-tips>General tips<a class=headerlink href=#general-tips title="Permanent link">&para;</a></h3> <ol> <li>Read the xarray documentation on <a href=https://xarray.pydata.org/en/stable/dask.html#optimization-tips>optimizing workflow with dask</a>.</li> <li>Read the <a href=https://docs.dask.org/en/stable/array-best-practices.html>Best practices for dask array</a></li> <li>Keep track of chunk sizes throughout your workflow. This is especially important when reading in data using <code>xr.open_mfdataset</code>. Aim for 100-200MB size chunks.</li> <li>Choose chunking appropriate to your analysis. If you're working with time series then chunk more in space and less along time.</li> <li>Avoid indexing with <code>.where</code> as much as possible. In particulate <code>.where(..., drop=True)</code> will trigger a compute since it needs to know where NaNs are present to drop them. Instead see if you can write your statement as a <code>.clip</code>, <code>.sel</code>, <code>.isel</code>, or <code>.query</code> statement.</li> </ol> <h3 id=how-do-i-optimize-reading-multiple-files-using-xarray-and-dask>How do I optimize reading multiple files using Xarray and Dask?<a class=headerlink href=#how-do-i-optimize-reading-multiple-files-using-xarray-and-dask title="Permanent link">&para;</a></h3> <p>A good first place to start when reading in multiple files is <a href=https://xarray.pydata.org/en/stable/io.html#reading-multi-file-datasets>Xarray's multi-file documentation</a>.</p> <p>For example, if you are trying to read in multiple files where you are interested in concatenating over the time dimension, here is an example of the <code>xr.open_dataset</code> line would look like:</p> <div class=highlight><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=n>ds</span> <span class=o>=</span> <span class=n>xr</span><span class=o>.</span><span class=n>open_mfdataset</span><span class=p>(</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>        <span class=n>files</span><span class=p>,</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>        <span class=c1># Name of the dimension to concatenate along.</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>        <span class=n>concat_dim</span><span class=o>=</span><span class=s2>&quot;time&quot;</span><span class=p>,</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>        <span class=c1># Attempt to auto-magically combine the given datasets into one by using dimension coordinates.</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>        <span class=n>combine</span><span class=o>=</span><span class=s2>&quot;by_coords&quot;</span><span class=p>,</span>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>        <span class=c1># Specify chunks for dask - explained later</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a>        <span class=n>chunks</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;lev&quot;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&quot;time&quot;</span><span class=p>:</span> <span class=mi>500</span><span class=p>},</span>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a>
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a>        <span class=c1># Only data variables in which the dimension already appears are included.</span>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a>        <span class=n>data_vars</span><span class=o>=</span><span class=s2>&quot;minimal&quot;</span><span class=p>,</span>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a>
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a>        <span class=c1># Only coordinates in which the dimension already appears are included.</span>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a>        <span class=n>coords</span><span class=o>=</span><span class=s2>&quot;minimal&quot;</span><span class=p>,</span>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a>
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a>        <span class=c1># Skip comparing and pick variable from first dataset.</span>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a>        <span class=n>compat</span><span class=o>=</span><span class=s2>&quot;override&quot;</span><span class=p>,</span>
</span><span id=__span-16-20><a id=__codelineno-16-20 name=__codelineno-16-20 href=#__codelineno-16-20></a>        <span class=n>parallel</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
</span><span id=__span-16-21><a id=__codelineno-16-21 name=__codelineno-16-21 href=#__codelineno-16-21></a>    <span class=p>)</span>
</span></code></pre></div> <h3 id=where-can-i-find-xarray-tutorials>Where can I find Xarray tutorials?<a class=headerlink href=#where-can-i-find-xarray-tutorials title="Permanent link">&para;</a></h3> <p>See <a href=https://xarray.pydata.org/en/latest/tutorials-and-videos.html>videos</a> and <a href=https://xarray-contrib.github.io/xarray-tutorial/ >notebooks</a>.</p> <h3 id=how-do-i-debug-my-code-when-using-dask>How do I debug my code when using dask?<a class=headerlink href=#how-do-i-debug-my-code-when-using-dask title="Permanent link">&para;</a></h3> <p>An option is to use <code>.compute(scheduler="single-threaded")</code>. This will run your code as a serial for loop. When an error is raised you can use the <code>%debug</code> magic to drop in to the stack and debug from there. See <a href=https://cherian.net/posts/python-debugging.html>this post</a> for more debugging tips in a serial context.</p> <h3 id=killedworker-x-what-do-i-do><code>KilledWorker</code> X{. What do I do?<a class=headerlink href=#killedworker-x-what-do-i-do title="Permanent link">&para;</a></h3> <p>Keep an eye on the dask dashboard.</p> <ol> <li>If a lot of the bars in the Memory tab are orange, that means your workers are running out of memory. Reduce your chunk size.</li> </ol> <h3 id=help-my-analysis-is-slow>Help, my analysis is slow!<a class=headerlink href=#help-my-analysis-is-slow title="Permanent link">&para;</a></h3> <ol> <li>Try subsetting for <strong><em>just</em></strong> the variable(s) you need for example, if you are reading in a dataset with ~25 variables, and you only need <code>temperature</code>, just read in temperature. You can specificy which variables to read in by using the following syntax, following the example of the temperature variable.</li> </ol> <div class=highlight><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=n>ds</span> <span class=o>=</span> <span class=n>xr</span><span class=o>.</span><span class=n>open_dataset</span><span class=p>(</span><span class=n>file</span><span class=p>,</span> <span class=n>data_vars</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;temperature&#39;</span><span class=p>])</span>
</span></code></pre></div> <ol> <li>Take a look at your chunk size, it might not be optimized. When reading a file in using Xarray with Dask, a "general rule of thumb" is to keep your chunk size down to around 100 mb.</li> </ol> <p>For example, let's say you trying to read in multiple files, each with ~600 time steps. This is case where each file is very large (several 10s of GB) and using Dask to help with data processing is <em>essential</em>.</p> <p>You can check the size of each chunk by subsetting a single DataArray (ex. <code>ds['temperature']</code>)</p> <p>If you have very large chunks, try modifying the number of chunks you specify within <code>xr.open_mfdataset(files, ..., chunks={'lev':1, "time": 500})</code> where lev and time are vertical and time dimensions respectively.</p> <p>Check to see how large each chunk is after modifying the chunk size, and modify as necessary.</p> <ol> <li>You do not have enough dask workers</li> </ol> <p>If you have a few large files, having the number of workers equal to to the number of input files read in using <code>xr.open_mfdataset</code> would be a good practice</p> <p>If you have a large number of smaller files, you may not run into this issue, and it is suggest you look at the other potential solutions.</p> <h3 id=i-have-to-do-lots-of-rechunking-but-the-rechunk-step-uses-too-much-memory-and-kills-my-workers>I have to do lots of rechunking, but the rechunk step uses too much memory and kills my workers.<a class=headerlink href=#i-have-to-do-lots-of-rechunking-but-the-rechunk-step-uses-too-much-memory-and-kills-my-workers title="Permanent link">&para;</a></h3> <p>Try the <a href=https://github.com/pangeo-data/rechunker>rechunker package</a>.</p> <h3 id=writing-to-files-in-parallel>Writing to files in parallel<a class=headerlink href=#writing-to-files-in-parallel title="Permanent link">&para;</a></h3> <p>Distributed writes to netCDF are hard.</p> <ol> <li>Try writing to <code>zarr</code> using <code>Dataset.to_zarr</code>.</li> <li>If you need to write to netCDF and your final dataset can fit in memory then use <code>dataset.load().to_netcdf(...)</code>.</li> <li>If you really must write a big dataset to netCDF try using <code>save_mfdataset</code> (see <a href=https://ncar.github.io/xdev/posts/writing-multiple-netcdf-files-in-parallel-with-xarray-and-dask/ >here</a>).</li> </ol> <h3 id=my-dask-workers-are-taking-a-long-time-to-start-how-can-i-monitor-them>My Dask workers are taking a long time to start. How can I monitor them?<a class=headerlink href=#my-dask-workers-are-taking-a-long-time-to-start-how-can-i-monitor-them title="Permanent link">&para;</a></h3> <p>Dask worker requests are added to the job queues on Casper and Cheyenne with the <code>cluster.scale()</code> method. After this method is called, you can verify that they are waiting in the queue with this command:</p> <ul> <li><code>qstat -u &lt;my_username&gt;</code> on Cheyenne, and the same command will work on Casper after April 2021.</li> </ul> <p>If you see no pending worker jobs, then verify that you have called <code>cluster.scale()</code>.</p> <h2 id=github>Github<a class=headerlink href=#github title="Permanent link">&para;</a></h2> <h3 id=setting-up-github-authentication>Setting up Github Authentication<a class=headerlink href=#setting-up-github-authentication title="Permanent link">&para;</a></h3> <p>Beginning August 13, 2021, Github will no longer accept account passwords when authenticating git operations. There are essentially two options, which Github provides proper documentation for getting setup:</p> <ol> <li><a href=https://docs.github.com/en/github/authenticating-to-github/securing-your-account-with-two-factor-authentication-2fa>Setup two-factor authentication</a></li> <li><a href=https://docs.github.com/en/github-ae@latest/github/authenticating-to-github/connecting-to-github-with-ssh>Connect to Github via SSH</a></li> </ol> <h2 id=cesm-data>CESM Data<a class=headerlink href=#cesm-data title="Permanent link">&para;</a></h2> <h3 id=dealing-with-cesm-monthly-output-is-there-something-wrong-with-time>Dealing with CESM monthly output - is there something wrong with time<a class=headerlink href=#dealing-with-cesm-monthly-output-is-there-something-wrong-with-time title="Permanent link">&para;</a></h3> <p>A well known issue of CESM data is that timestamps for fields saved as averages are placed at the end of the averaging period. For instance, in the following example, the <code>January/1920</code> average has a timestamp of <code>February/1920</code>:</p> <div class=highlight><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>In</span> <span class=p>[</span><span class=mi>25</span><span class=p>]:</span> <span class=n>filename</span> <span class=o>=</span> <span class=s1>&#39;/glade/collections/cdg/data/cesmLE/CESM-CAM5-BGC-LE/atm/proc/tseries/monthly/TS/b.e11.B20TRC5CNBDRD.f09_g16.011.cam.h0.TS.192001-200512.nc&#39;</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=n>In</span> <span class=p>[</span><span class=mi>33</span><span class=p>]:</span> <span class=n>ds</span> <span class=o>=</span> <span class=n>xr</span><span class=o>.</span><span class=n>open_dataset</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a><span class=n>In</span> <span class=p>[</span><span class=mi>34</span><span class=p>]:</span> <span class=n>ds</span><span class=o>.</span><span class=n>time</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a><span class=n>Out</span><span class=p>[</span><span class=mi>34</span><span class=p>]:</span>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=o>&lt;</span><span class=n>xarray</span><span class=o>.</span><span class=n>DataArray</span> <span class=s1>&#39;time&#39;</span> <span class=p>(</span><span class=n>time</span><span class=p>:</span> <span class=mi>1032</span><span class=p>)</span><span class=o>&gt;</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a><span class=n>array</span><span class=p>([</span><span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>1920</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>1920</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>1920</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=o>...</span><span class=p>,</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>2005</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-18-12><a id=__codelineno-18-12 name=__codelineno-18-12 href=#__codelineno-18-12></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>2005</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-18-13><a id=__codelineno-18-13 name=__codelineno-18-13 href=#__codelineno-18-13></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>2006</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)],</span> <span class=n>dtype</span><span class=o>=</span><span class=nb>object</span><span class=p>)</span>
</span><span id=__span-18-14><a id=__codelineno-18-14 name=__codelineno-18-14 href=#__codelineno-18-14></a><span class=n>Coordinates</span><span class=p>:</span>
</span><span id=__span-18-15><a id=__codelineno-18-15 name=__codelineno-18-15 href=#__codelineno-18-15></a>  <span class=o>*</span> <span class=n>time</span>     <span class=p>(</span><span class=n>time</span><span class=p>)</span> <span class=nb>object</span> <span class=mi>1920</span><span class=o>-</span><span class=mi>02</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span> <span class=o>...</span> <span class=mi>2006</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>01</span> <span class=mi>00</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>
</span><span id=__span-18-16><a id=__codelineno-18-16 name=__codelineno-18-16 href=#__codelineno-18-16></a><span class=n>Attributes</span><span class=p>:</span>
</span><span id=__span-18-17><a id=__codelineno-18-17 name=__codelineno-18-17 href=#__codelineno-18-17></a>    <span class=n>long_name</span><span class=p>:</span>  <span class=n>time</span>
</span><span id=__span-18-18><a id=__codelineno-18-18 name=__codelineno-18-18 href=#__codelineno-18-18></a>    <span class=n>bounds</span><span class=p>:</span>     <span class=n>time_bnds</span>
</span></code></pre></div> <p>A temporary workaround is to fix the issue ourselves by computing new time axis by averaging the time bounds:</p> <div class=highlight><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=n>In</span> <span class=p>[</span><span class=mi>29</span><span class=p>]:</span> <span class=kn>import</span> <span class=nn>xarray</span> <span class=k>as</span> <span class=nn>xr</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=n>In</span> <span class=p>[</span><span class=mi>30</span><span class=p>]:</span> <span class=kn>import</span> <span class=nn>cf_xarray</span> <span class=c1># use cf-xarray so that we can use CF attributes</span>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=n>In</span> <span class=p>[</span><span class=mi>31</span><span class=p>]:</span> <span class=n>filename</span> <span class=o>=</span> <span class=s1>&#39;/glade/collections/cdg/data/cesmLE/CESM-CAM5-BGC-LE/atm/proc/tseries/monthly/TS/b.e11.B20TRC5CNBDRD.f09_g16.011.cam.h0.TS.192001-200512.nc&#39;</span>
</span><span id=__span-19-6><a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
</span><span id=__span-19-7><a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=n>In</span> <span class=p>[</span><span class=mi>32</span><span class=p>]:</span> <span class=n>ds</span> <span class=o>=</span> <span class=n>xr</span><span class=o>.</span><span class=n>open_dataset</span><span class=p>(</span><span class=n>filename</span><span class=p>)</span>
</span><span id=__span-19-8><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>
</span><span id=__span-19-9><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a><span class=n>In</span> <span class=p>[</span><span class=mi>34</span><span class=p>]:</span> <span class=n>attrs</span><span class=p>,</span> <span class=n>encoding</span> <span class=o>=</span> <span class=n>ds</span><span class=o>.</span><span class=n>time</span><span class=o>.</span><span class=n>attrs</span><span class=o>.</span><span class=n>copy</span><span class=p>(),</span> <span class=n>ds</span><span class=o>.</span><span class=n>time</span><span class=o>.</span><span class=n>encoding</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span><span id=__span-19-10><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>
</span><span id=__span-19-11><a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a><span class=n>In</span> <span class=p>[</span><span class=mi>36</span><span class=p>]:</span> <span class=n>time_bounds</span> <span class=o>=</span> <span class=n>ds</span><span class=o>.</span><span class=n>cf</span><span class=o>.</span><span class=n>get_bounds</span><span class=p>(</span><span class=s1>&#39;time&#39;</span><span class=p>)</span>
</span><span id=__span-19-12><a id=__codelineno-19-12 name=__codelineno-19-12 href=#__codelineno-19-12></a>
</span><span id=__span-19-13><a id=__codelineno-19-13 name=__codelineno-19-13 href=#__codelineno-19-13></a><span class=n>In</span> <span class=p>[</span><span class=mi>37</span><span class=p>]:</span> <span class=n>time_bounds_dim_name</span> <span class=o>=</span> <span class=n>ds</span><span class=o>.</span><span class=n>cf</span><span class=o>.</span><span class=n>get_bounds_dim_name</span><span class=p>(</span><span class=s1>&#39;time&#39;</span><span class=p>)</span>
</span><span id=__span-19-14><a id=__codelineno-19-14 name=__codelineno-19-14 href=#__codelineno-19-14></a>
</span><span id=__span-19-15><a id=__codelineno-19-15 name=__codelineno-19-15 href=#__codelineno-19-15></a><span class=n>In</span> <span class=p>[</span><span class=mi>38</span><span class=p>]:</span> <span class=n>ds</span> <span class=o>=</span> <span class=n>ds</span><span class=o>.</span><span class=n>assign_coords</span><span class=p>(</span><span class=n>time</span><span class=o>=</span><span class=n>time_bounds</span><span class=o>.</span><span class=n>mean</span><span class=p>(</span><span class=n>time_bounds_dim_name</span><span class=p>))</span>
</span><span id=__span-19-16><a id=__codelineno-19-16 name=__codelineno-19-16 href=#__codelineno-19-16></a>
</span><span id=__span-19-17><a id=__codelineno-19-17 name=__codelineno-19-17 href=#__codelineno-19-17></a><span class=n>In</span> <span class=p>[</span><span class=mi>39</span><span class=p>]:</span> <span class=n>ds</span><span class=o>.</span><span class=n>time</span><span class=o>.</span><span class=n>attrs</span><span class=p>,</span> <span class=n>ds</span><span class=o>.</span><span class=n>time</span><span class=o>.</span><span class=n>encoding</span> <span class=o>=</span> <span class=n>attrs</span><span class=p>,</span> <span class=n>encoding</span>
</span><span id=__span-19-18><a id=__codelineno-19-18 name=__codelineno-19-18 href=#__codelineno-19-18></a>
</span><span id=__span-19-19><a id=__codelineno-19-19 name=__codelineno-19-19 href=#__codelineno-19-19></a><span class=n>In</span> <span class=p>[</span><span class=mi>40</span><span class=p>]:</span> <span class=n>ds</span><span class=o>.</span><span class=n>time</span>
</span><span id=__span-19-20><a id=__codelineno-19-20 name=__codelineno-19-20 href=#__codelineno-19-20></a><span class=n>Out</span><span class=p>[</span><span class=mi>40</span><span class=p>]:</span>
</span><span id=__span-19-21><a id=__codelineno-19-21 name=__codelineno-19-21 href=#__codelineno-19-21></a><span class=o>&lt;</span><span class=n>xarray</span><span class=o>.</span><span class=n>DataArray</span> <span class=s1>&#39;time&#39;</span> <span class=p>(</span><span class=n>time</span><span class=p>:</span> <span class=mi>1032</span><span class=p>)</span><span class=o>&gt;</span>
</span><span id=__span-19-22><a id=__codelineno-19-22 name=__codelineno-19-22 href=#__codelineno-19-22></a><span class=n>array</span><span class=p>([</span><span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>1920</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-19-23><a id=__codelineno-19-23 name=__codelineno-19-23 href=#__codelineno-19-23></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>1920</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>15</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-19-24><a id=__codelineno-19-24 name=__codelineno-19-24 href=#__codelineno-19-24></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>1920</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=o>...</span><span class=p>,</span>
</span><span id=__span-19-25><a id=__codelineno-19-25 name=__codelineno-19-25 href=#__codelineno-19-25></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>2005</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-19-26><a id=__codelineno-19-26 name=__codelineno-19-26 href=#__codelineno-19-26></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>2005</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span>
</span><span id=__span-19-27><a id=__codelineno-19-27 name=__codelineno-19-27 href=#__codelineno-19-27></a>       <span class=n>cftime</span><span class=o>.</span><span class=n>DatetimeNoLeap</span><span class=p>(</span><span class=mi>2005</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)],</span> <span class=n>dtype</span><span class=o>=</span><span class=nb>object</span><span class=p>)</span>
</span><span id=__span-19-28><a id=__codelineno-19-28 name=__codelineno-19-28 href=#__codelineno-19-28></a><span class=n>Coordinates</span><span class=p>:</span>
</span><span id=__span-19-29><a id=__codelineno-19-29 name=__codelineno-19-29 href=#__codelineno-19-29></a>  <span class=o>*</span> <span class=n>time</span>     <span class=p>(</span><span class=n>time</span><span class=p>)</span> <span class=nb>object</span> <span class=mi>1920</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>16</span> <span class=mi>12</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span> <span class=o>...</span> <span class=mi>2005</span><span class=o>-</span><span class=mi>12</span><span class=o>-</span><span class=mi>16</span> <span class=mi>12</span><span class=p>:</span><span class=mi>00</span><span class=p>:</span><span class=mi>00</span>
</span><span id=__span-19-30><a id=__codelineno-19-30 name=__codelineno-19-30 href=#__codelineno-19-30></a><span class=n>Attributes</span><span class=p>:</span>
</span><span id=__span-19-31><a id=__codelineno-19-31 name=__codelineno-19-31 href=#__codelineno-19-31></a>    <span class=n>long_name</span><span class=p>:</span>  <span class=n>time</span>
</span><span id=__span-19-32><a id=__codelineno-19-32 name=__codelineno-19-32 href=#__codelineno-19-32></a>    <span class=n>bounds</span><span class=p>:</span>     <span class=n>time_bnds</span>
</span></code></pre></div> <div class=highlight><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>cf-xarray can be installed via pip or conda. cf-xarray docs are available [here](https://cf-xarray.readthedocs.io/en/latest/).
</span></code></pre></div> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2023-10-18T14:23:09+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-10-18</span> <br> Created: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2023-10-18T14:23:09+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2023-10-18</span> </small> </div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label> <a href=../../nhug/upcoming-events/ class="md-footer__link md-footer__link--prev" aria-label="Previous: NHUG Upcoming Events" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> NHUG Upcoming Events </div> </div> </a> <a href=../../contributing/ class="md-footer__link md-footer__link--next" aria-label="Next: About" rel=next> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> About </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2023 UCAR </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://arc.ucar.edu/ target=_blank rel=noopener title=arc.ucar.edu class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.07 4.93C17.22 3 14.66 1.96 12 2c-2.66-.04-5.21 1-7.06 2.93C3 6.78 1.96 9.34 2 12c-.04 2.66 1 5.21 2.93 7.06C6.78 21 9.34 22.04 12 22c2.66.04 5.21-1 7.06-2.93C21 17.22 22.04 14.66 22 12c.04-2.66-1-5.22-2.93-7.07M17 12v6h-3.5v-5h-3v5H7v-6H5l7-7 7.5 7H17Z"/></svg> </a> <a href=https://ithelp.ucar.edu/plugins/servlet/desk/site/rc target=_blank rel=noopener title=ithelp.ucar.edu class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m15.07 11.25-.9.92C13.45 12.89 13 13.5 13 15h-2v-.5c0-1.11.45-2.11 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41a2 2 0 0 0-2-2 2 2 0 0 0-2 2H8a4 4 0 0 1 4-4 4 4 0 0 1 4 4 3.2 3.2 0 0 1-.93 2.25M13 19h-2v-2h2M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10Z"/></svg> </a> <a href=https://github.com/NCAR target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://join.slack.com/t/ncarhpcusergroup/shared_invite/zt-1z00napom-SU0X8CzJWVY90C2GzRvUCg target=_blank rel=noopener title=join.slack.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg> </a> </div> </div> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <img alt="National Science Foundation" src=https://www.nsf.gov/news/mmg/media/images/bitmaplogo_nolayers_f_e50fcd0b-607b-4271-a808-914d9c2f65dc.png height=70 width=90> This material is based upon work supported by the National Center for Atmospheric Research, a major facility sponsored by National Science Foundation and managed by the University Corporation for Atmospheric Research. Any opinions, findings and conclusions or recommendations expressed in this material do not necessarily reflect the views of the National Science Foundation. </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.annotate", "content.code.copy", "content.action.edit", "content.action.view", "navigation.footer", "navigation.indexes", "navigation.top", "navigation.path", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script>
  var __search = {
    transform: function (query) {
      return query
    }
  }
</script> <script src=../../assets/javascripts/bundle.5a2dcb6a.min.js></script> <script src=../../js/timeago.min.js></script> <script src=../../js/timeago_mkdocs_material.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>